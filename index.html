<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asesor Pedag√≥gico con IA</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.4.120/build/pdf.min.js"></script>
    <script src="https://unpkg.com/mammoth@1.4.8/mammoth.browser.min.js"></script>
</head>
<body>
    <header>
        <h1>Asesor Pedag√≥gico</h1>
        <p class="subtitle">Crea f√°cilmente actividades de aprendizaje con sustento pedag√≥gico que utilicen o no Inteligencia Artificial.</p>
        <p class="author">Creada por <a href="https://www.marcocarlosavalos.com/" target="_blank">Marco Carlos Avalos Rosado</a></p>
    </header>
    <main id="app-container">
        <div id="form-container">
            <div class="form-section">
                <h2>1. Contexto Acad√©mico</h2>
                <label for="career-select">Carrera:</label>
                <select id="career-select" name="career" required></select>
                <label for="subject-input">Asignatura:</label>
                <input type="text" id="subject-input" placeholder="Ej: Biolog√≠a Celular y Molecular" required>
            </div>

            <div class="form-section">
                <h2>2. Objetivo de Aprendizaje</h2>
                <p>Define un objetivo claro usando la estructura: <strong>Verbo + Contenido + Prop√≥sito</strong>.</p>
                <textarea id="objective-input" rows="4" placeholder="Ej: Diferenciar las estructuras de las c√©lulas procariotas y eucariotas usando un microscopio √≥ptico para comprender la base de la clasificaci√≥n de los seres vivos." required></textarea>
            </div>

            <div class="form-section">
                <h2>3. Contexto del Grupo y Actividad</h2>
                <label for="student-context-input">Describe a tus estudiantes:</label>
                <textarea id="student-context-input" rows="4" placeholder="Ej: son 35 estudiantes, con acceso limitado a IA generativa, se distraen con el tel√©fono celular, les gusta aprender haciendo, etc√©tera" required></textarea>
                <label for="duration-input">Duraci√≥n de la actividad:</label>
                <input type="text" id="duration-input" placeholder="Ej: 90 minutos" required>
                <label>Modalidad:</label>
                <div class="radio-group">
                    <input type="radio" id="in-class" name="modality" value="en clase" checked> <label for="in-class">En clase</label>
                    <input type="radio" id="homework" name="modality" value="en casa"> <label for="homework">En casa</label>
                </div>
                <label>Formato de Trabajo:</label>
                <div class="radio-group">
                    <input type="radio" id="work-individual" name="work-type" value="Individual" checked> <label for="work-individual">Individual</label>
                    <input type="radio" id="work-team" name="work-type" value="En equipo"> <label for="work-team">En equipo</label>
                </div>
            </div>

            <div class="form-section">
                <h2>4. Materiales y Restricciones</h2>
                <label for="restrictions-input">Especificaciones o restricciones:</label>
                <textarea id="restrictions-input" rows="3" placeholder="Ej: Uso de cartulinas, no hay Internet, deben usar una lectura espec√≠fica."></textarea>
                <label for="extra-info-details">Pega aqu√≠ cualquier texto base para la actividad:</label>
                <textarea id="extra-info-details" rows="6" placeholder="Pega aqu√≠ el contenido de una lectura, un caso de estudio, etc."></textarea>
                <label for="file-upload" class="upload-label">O sube un archivo (PDF, DOCX, TXT):</label>
                <input type="file" id="file-upload" accept=".pdf,.docx,.txt">
                <p id="file-upload-status"></p>
                <p class="upload-note">Para un mejor rendimiento y equidad, sube archivos de menos de 5 p√°ginas.</p>
            </div>

            <div class="form-section">
                <h2>5. Uso de Inteligencia Artificial (por los estudiantes)</h2>
                <p>Define si tus estudiantes podr√°n usar IA para esta actividad.</p>
                <div class="radio-group">
                    <input type="radio" id="use-ai-no" name="use-ai" value="no" checked> <label for="use-ai-no">No usar IA</label>
                    <input type="radio" id="use-ai-yes" name="use-ai" value="si"> <label for="use-ai-yes">S√≠ usar IA</label>
                </div>
                <div id="ai-level-selection" class="hidden">
                    <label for="ai-framework-select">Elige el marco de referencia:</label>
                    <select id="ai-framework-select"></select>
                    <label for="ai-level-select">Define el nivel de uso:</label>
                    <select id="ai-level-select"></select>
                </div>
            </div>

            <div class="generate-section">
                <button id="generate-activity-btn">‚ú® ¬°Generar Actividad con IA!</button>
            </div>
        </div>

        <div id="result-container" class="hidden">
            <div id="loading-container" class="hidden">
                <div class="loading-spinner"></div>
                <p class="loading-text">Conectando con la IA para generar tu actividad... Esto puede tardar unos segundos.</p>
            </div>
            <div id="proposals-container"></div>
            <div id="final-activity-output"></div>
            <div id="result-actions" class="hidden">
                <div class="download-buttons">
                    <button id="download-pdf-btn">üì• Descargar como PDF</button>
                    <button id="download-word-btn">üì• Descargar como Word (.doc)</button>
                </div>
                <div class="navigation-buttons">
                    <button id="back-to-proposals-btn" class="hidden">Regresar a las Propuestas</button>
                    <button id="start-over-btn">Dise√±ar otra actividad</button>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js"></script>
</body>
</html>
